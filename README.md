# AIS (AI Schema)

A command-line tool for extracting specific table definitions from a Rails `schema.rb` file.
Useful for providing context to AI assistants or creating smaller schema files for documentation.

## Features

- Extract specific tables from your Rails schema
- Preserve all table definitions including columns, indices, and constraints
- Simple command-line interface
- Configurable input and output paths

## Installation

### From Source

1. Ensure you have Rust installed ([Install Rust](https://www.rust-lang.org/tools/install))
2. Clone the repository:
   ```bash
   git clone https://github.com/plicjo/ais.git
   cd ais
   ```
3. Build and install:
   ```bash
   cargo install --path .
   export PATH="$HOME/.cargo/bin:$PATH"
   ```
4. Open a new terminal and run `ais` to verify the installation

## Usage

Basic usage:
```bash
# Extract specific tables from schema.rb
ais contacts matters

# Use a different schema file
ais -f custom/schema.rb contacts matters

# Write to a specific output file
ais -o extracted_schema.rb contacts matters

# Combine options
ais -f custom/schema.rb -o extracted_schema.rb contacts matters
```

### Options

- `-f, --file <SCHEMA_PATH>`: Override the default schema path (default: `db/schema.rb`)
- `-o, --output <OUTPUT_FILE>`: Override the default output file (default: `ai_context_schema.rb`)
- `-h, --help`: Display help information

## Example

Given a `schema.rb` with multiple tables:

```ruby
create_table "contacts" do |t|
  t.string "email"
  t.string "name"
  t.timestamps
end

create_table "matters" do |t|
  t.string "title"
  t.references "contact"
  t.timestamps
end

create_table "notes" do |t|
  t.text "content"
  t.timestamps
end
```

Running:
```bash
ais contacts matters
```

Will create `ai_context_schema.rb` containing only the `contacts` and `matters` tables:

```ruby
# This file was generated by ais. Do not edit manually!

create_table "contacts" do |t|
  t.string "email"
  t.string "name"
  t.timestamps
end

create_table "matters" do |t|
  t.string "title"
  t.references "contact"
  t.timestamps
end
```

## Development

### Running Tests

```bash
# Run all tests
cargo test
```
